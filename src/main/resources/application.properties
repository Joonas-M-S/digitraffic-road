# Default profile for dev is localhost
spring.profiles.active=localhost

# Common db config
# See: http://stackoverflow.com/questions/30451470/connection-to-db-dies-after-424-in-spring-boot-jpa-hibernate
#      http://www.tomcatexpert.com/blog/2010/04/01/configuring-jdbc-pool-high-concurrency
spring.datasource.type=oracle.jdbc.pool.OracleDataSource
spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
spring.datasource.validationQuery=SELECT 1 FROM DUAL
spring.jpa.properties.hibernate.jdbc.batch_size=200
# Default transaction timeout in seconds.
spring.transaction.default-timeout=600
# 10g dialect for 11g also
spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect

# JavaMelody storage path. Relative to app folder or if starts with / then absolute path
javamelody.storage-directory = javamelody
javamelody.enabled = true

# Use ISO-8601 date format
spring.jackson.serialization.write_dates_as_timestamps=false
# Pretty json
spring.jackson.serialization.indent_output=true

# Limits sensor values collected in weather station web service messages,
# based on measurement time in minutes. Values which are more than specified
# minutes older than latest sensor values for the station, are filtered out.
# 1440 min = 24 h
weatherStation.sensorValueTimeLimitInMinutes=1440

# Limits sensor values collected in tms station web service messages,
# based on measurement time in minutes. Values which are more than specified
# minutes older than latest sensor values for the station, are filtered out.
# 1440 min = 24 h
tmsStation.sensorValueTimeLimitInMinutes=1440

# Healtcheck -> /details/health
management.context-path=/details
management.health.defaults.enabled=false
management.health.db.enabled=true
endpoints.enabled=false
endpoints.health.enabled=true
endpoints.health.sensitive=false
# JMS settings

# How often connection and lock state is checked
jms.connection.intervalMs=2000
# How often jms messages are drained from queue
jms.queue.pollingIntervalMs = 100

# Handle unhandled Datex2 messages. Frequency in ms: 86\u00a0400\u00a0000 ms = 24 h, 300 000 = 5 min, 60 000 = 1 min
unhandledDatex2MessagesImportJob.frequency = 60000

# TMC locations url
metadata.tmc.url = http://aineistot.liikennevirasto.fi/tmc/noncertified/

# How often websocket sender shoudl check for new sensor values
websocket.tms.pollingIntervalMs = 1000

# do not add X-Application-Context
management.add-application-context-header=false

# SFTP settings for camera image upload
camera-image-uploader.sftp.port = 22
camera-image-uploader.sftp.poolSize = 10
camera-image-uploader.sftp.sessionWaitTimeout = 1000
camera-image-uploader.sftp.connectionTimeout = 2000
camera-image-uploader.sftp.allowUnknownKeys = false
camera-image-uploader.http.connectTimeout = 1000
camera-image-uploader.http.readTimeout = 5000
camera-image-uploader.imageUpdateTimeout = 20000